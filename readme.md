# Assignments for STM32CubeIDE and Nucleo Boards

This repository contains the details and instructions for completing the assignments using STM32CubeIDE with Nucleo boards. 

## Assignment 1 

### Overview
- **Goal**: Familiarize with STM32CubeIDE, Nucleo board setup, breadboard, jumper wires, and sensors.
- **Tasks**:
  1. Run the provided code, display outputs, and explain the `.ioc` file configurations and functions.
  2. Toggle LED and print data over UART in a basic setup.
  3. Interface with the BMP280 sensor via I2C.

### Steps:
1. **Basic Setup**:
   - Create a new project using STM32CubeIDE and select the `L07R0Z` Nucleo as the platform.
   - Configure the project using the default `.ioc` file.
   - Add code in `main.c` to toggle an LED and print messages on UART.
   - Verify output using the serial console within the IDE.

2. **Sensor Interfacing**:
   - Download and extract `bmp.tar.gz` containing source files for the BMP280 sensor.
   - Create a new project in STM32CubeIDE.
   - **I2C Configuration**: Enable I2C1 communication in the `.ioc` file.
     - Ensure the SCL and SDA pins are mapped correctly. Adjust the pinout for easier access if needed.
     - Save the `.ioc` file and regenerate the code when prompted.
   - **File Placement**:
     - Place `.h` files in `Core/Inc`.
     - Place `.c` files in `Core/Src`.
     - Modify `main.c` (generated by the IDE) by manually including relevant lines from the provided `main.c` file.
     
   - **Build and Run**:
     - Build and run the project to display sensor readings on the serial console.
     - Debug until the expected output is seen.



## Assignment 2 

### Overview
- **Goal**: Port Arduino libraries for the MAX30102 sensor to STM32, process sensor data, and configure interrupts.
- **Tasks**:
  1. Port Arduino libraries.
  2. Read raw data and display it on the serial console.
  3. Process raw data for meaningful outputs (heartbeat, heart rate, and SpO2).
  4. Configure sensor interrupts.

### Steps:
1. **Library Porting**:
   
   - Create a new project in STM32CubeIDE and configure I2C communication.
   - Place relevant files from the Arduino libraries into `Core/Inc` and `Core/Src`.
   - Define initialization functions and functions for reading raw data in your `main.c`.
   - Ensure the main loop calls initialization and reads raw data, printing the results to the serial console.

2. **Data Processing**:
   
   - Integrate and call these functions from `main.c`.
   

3. **Interrupt Configuration**:
   - Configure the interrupt line for the MAX30102 sensor to enable accurate data readings.



## Assignment 3

### Overview
- **Goal**: Read and write data to an SD card using SPI interface.
- **Tasks**:
  - Use FatFS to manage file read/write operations on an SD card over SPI.

### Steps:
1. **File Placement**:
   - Copy `FATFS/Target/user_diskio_spi.c` and `FATFS/Target/user_diskio_spi.h` into your STM32CubeIDE project.
   - Include `#include "user_diskio_spi.h"` in `FATFS/Target/user_diskio.c`.

2. **Configuration**:
   - Ensure `main.h` contains definitions for `SD_SPI_HANDLE` (e.g., `hspi2`), `SD_CS_GPIO_Port`, and `SD_CS_Pin`.
   - Configure SPI driver speeds and prescalars in `user_diskio_spi.c` for optimal operation.

